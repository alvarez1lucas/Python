biblioteca_compleja = {
    "libros": [  
        {
            "titulo": "Avances en Inteligencia Artificial",
            "id": 1,
            "autor": "Carlos Hernández",
            "anio_publicacion": 2023,
            "generos": ["Tecnología", "Inteligencia Artificial"],
            "reseñas": [
                {"puntaje": 4.9, "comentario": ""},
                {"puntaje": 3.7, "comentario": None},
                {"puntaje": 4.3, "comentario": "Excelente cobertura de los últimos avances en IA."},
                {"puntaje": 3.2, "comentario": "Incluye casos de uso y aplicaciones prácticas."},
            ],
            "contenidos": {
                "Algoritmos de Aprendizaje Profundo": {"paginas": 50, "temas": ["Redes Neuronales", "Transfer Learning"]},
                "Ética en la IA": {"paginas": 30, "temas": ["Responsabilidad", "Sesgos algorítmicos"]},
                "Aplicaciones en la Vida Real": {"paginas": 40, "temas": ["Asistentes Virtuales", "Reconocimiento Facial"]},
            },
            "datasets": [
                {"nombre": "Dataset E", "tipo": "Imágenes", "registros": 1500},
                {"nombre": "Dataset F", "tipo": "Texto", "registros": 1200},
            ],
            "editorial": "Ediciones Tecnológicas"
        },
        {
            "titulo": "Criptografía Moderna",
            "id": 2,
            "autor": "Ana Gómez",
            "anio_publicacion": 2021,
            "genero": ["Seguridad Informatica", "Criptografía"],
            "reseñas": [
                {"puntaje": 4.5, "comentario": "Profundo análisis de los últimos algoritmos criptográficos."},
                {"puntaje": 4.8, "comentario": "Recomendado para profesionales de seguridad."},
                {"puntaje": 4.1, "comentario": ""},
                {"puntaje": 4.4, "comentario": ""},
            ],
            "contenidos": {
                "Criptografía Cuántica": {"paginas": 35, "temas": ["Qubits", "Teletransportación Cuántica"]},
                "Algoritmos de Clave Pública": {"paginas": 45, "temas": ["RSA", "ElGamal"]},
                "Seguridad en Blockchain": {"paginas": 55, "temas": ["Contratos Inteligentes", "Consensos"]},
            },
            "ejercicios": [
                {"tipo": "Práctico", "dificultad": "Intermedia"},
                {"tipo": "Teórico", "dificultad": "Avanzada"},
            ],
            "editorial": "Ediciones Criptografia"
        },
        {
            "titulo": "Exploración Espacial",
            "id": 3,
            "autor": "Laura Martínez",
            "anio_publicacion": 2022,
            "genero": ["Ciencia", "Exploracion Espacial"],
            "reseñas": [
                {"puntaje": 4.6, "comentario": "Una inmersión fascinante en la exploración del espacio."},
                {"puntaje": 4.9, "comentario": "Ilustrado y bien documentado."},
                {"puntaje": 4.2, "comentario": ""},
                {"puntaje": 3.9, "comentario": ""},
            ],
            "contenidos": {
            "Capitulo 1": {"paginas": 115, "temas": ["Supervisado"]},
            },
            "misiones": [
                {"nombre": "Misión Marte", "tripulantes": ["Astronauta1", "Astronauta2"], "duracion": 365},
                {"nombre": "Misión Júpiter", "tripulantes": ["Astronauta3", "Astronauta4"], "duracion": 500},
            ],
            "editorial": "Ediciones Tecnológicas"
        },
        {
            "titulo": "Datos y Estadísticas en Ciencias de la Computación",
            "id": 4,
            "autor": "María Rodríguez",
            "anio_publicacion": 2020,
            "generos": ["Ciencia de la Computacion", "Estadisticas"],
            "reseñas": [
                {"puntaje": 4.8, "comentario": "Un enfoque práctico para entender y aplicar estadísticas en computación."},
                {"puntaje": 4.5, "comentario": "Ejemplos claros y relevantes para la disciplina."},
                {"puntaje": 4.2, "comentario": None},
                {"puntaje": 4.1, "comentario": ""},
            ],
            "contenidos": {
                "Fundamentos Estadísticos": {"paginas": 40, "temas": ["Probabilidades", "Distribuciones"]},
                "Análisis de Datos Computacionales": {"paginas": 45, "temas": ["Regresión", "Pruebas de Hipótesis"]},
                "Aplicaciones Prácticas": {"paginas": 30, "temas": ["Machine Learning", "Visualización de Datos"]},
            },
            "datasets": [
                {"nombre": "Dataset G", "tipo": "Tabular", "registros": 800},
                {"nombre": "Dataset H", "tipo": "Textual", "registros": 1200},
            ],
            "editorial": "Ediciones Computacionales"
        },
        {
            "titulo": "Programación Creativa con Python",
            "id": 5,
            "autor": "David Sánchez",
            "anio_publicacion": 2019,
            "generos": ["Programacion", "Creatividad"],
            "reseñas": [
                {"puntaje": 4.7, "comentario": "Inspirador y práctico para desarrollar proyectos creativos con Python."},
                {"puntaje": 4.6, "comentario": "Enfoque innovador en la programación como medio artístico."},
                {"puntaje": 3.4, "comentario": "Inspirador y práctico para desarrollar proyectos creativos con Python."},
                {"puntaje": 4.3, "comentario": "Enfoque innovador en la programación como medio artístico."},
            ],
            "contenidos": {
            "Python Basico": {"paginas": 95, "temas": ["Clasificación", "Regresión"]},
            "Ejemplos": {"paginas": 60, "temas": ["Sobreajuste"]},
            "Proyectos Prácticos": {"paginas": 25, "temas": ["Clasificación", "Regresión"]},
            "Desafíos y Soluciones": {"paginas": 40, "temas": ["Sobreajuste", "Selección de Modelos"]},
            },
            "proyectos": [
                {"nombre": "Generador de Arte Algorítmico", "descripcion": "Proyecto interactivo para crear arte generativo."},
                {"nombre": "Simulación de Procesos Creativos", "descripcion": "Herramienta para simular procesos de creación artística."},
            ],
            "editorial": "Ediciones Creativas"
        },
        {"titulo": "Machine Learning en la Práctica",
         "id": 6,
        "autor": "Ana Ramírez",
        "anio_publicacion": 2022,
        "generos": ["Machine Learning", "Aplicaciones Prácticas"],
        "reseñas": [
            {"puntaje": 4.6, "comentario": "Enfoque práctico con ejemplos aplicados en el mundo real."},
            {"puntaje": 4.8, "comentario": "Recomendado para profesionales y estudiantes."},
            {"puntaje": 4.4, "comentario": ""},
            {"puntaje": 4.1, "comentario": ""},
        ],
        "contenidos": {
            "Introducción a Machine Learning": {"paginas": 45, "temas": ["Supervisado", "No supervisado"]},
            "Proyectos Prácticos": {"paginas": 35, "temas": ["Clasificación", "Regresión"]},
            "Desafíos y Soluciones": {"paginas": 40, "temas": ["Sobreajuste", "Selección de Modelos"]},
        },
        "datasets": [
            {"nombre": "Dataset ML1", "tipo": "Tabular", "registros": 800},
            {"nombre": "Dataset ML2", "tipo": "Imágenes", "registros": 1000},
        ],
        "editorial": "Ediciones Prácticas"
    },
    {
        "titulo": "Historia de la Programación",
        "id": 7,
        "autor": "Javier Sánchez",
        "anio_publicacion": 2021,
        "generos": ["Historia", "Programacion"],
        "reseñas": [
            {"puntaje": 4.5, "comentario": "Fascinante recorrido por el desarrollo de la programación."},
            {"puntaje": 4.7, "comentario": "Informativo y bien investigado."},
            {"puntaje": 2.5, "comentario": "Muy aburrido"},
            {"puntaje": 3.8, "comentario": ""},
        ],
        "contenidos": {
            "Inicio de la Computación": {"paginas": 40, "temas": ["Máquinas Analíticas", "Ada Lovelace"]},
            "Era de los Mainframes": {"paginas": 30, "temas": ["COBOL", "Fortran"]},
            "La Revolución de la PC": {"paginas": 35, "temas": ["Microsoft", "Apple"]},
        },
        "editorial": "Ediciones Históricas"
    },
    {
        "titulo": "Ciberseguridad Avanzada",
        "id": 8,
        "autor": "Elena Torres",
        "anio_publicacion": 2023,
        "generos": ["Ciberseguridad", "Seguridad Informatica"],
        "reseñas": [
            {"puntaje": 4.9, "comentario": "Completa guía para profesionales en ciberseguridad."},
            {"puntaje": 4.7, "comentario": "Incluye las últimas tendencias y amenazas."},
            {"puntaje": 4.2, "comentario": "Bueno."},
            {"puntaje": 3.7, "comentario": ""},
        ],
        "contenidos": {
            "Análisis de Amenazas Actuales": {"paginas": 50, "temas": ["Malware", "Phishing"]},
            "Técnicas de Protección Avanzada": {"paginas": 50, "temas": ["Firewalls", "Cifrado"]},
            "Casos de Estudio": {"paginas": 135, "temas": ["Incidentes de Seguridad", "Respuesta ante Incidentes"]},
        },
        "editorial": "Ediciones de Seguridad"
    },
    {
        "titulo": "Python en el Mundo de la Ciencia",
        "id": 9,
        "autor": "Marina Gutiérrez",
        "anio_publicacion": 2020,
        "generos": ["Python", "Ciencia"],
        "reseñas": [
            {"puntaje": 4.8, "comentario": "Aplicaciones prácticas de Python en la investigación científica."},
            {"puntaje": 4.6, "comentario": "Excelente para científicos y programadores."},
            {"puntaje": 3.8, "comentario": ""},
            {"puntaje": 4.3, "comentario": ""},
        ],
        "contenidos": {
            "Análisis de Datos Científicos": {"paginas": 45, "temas": ["NumPy", "Pandas"]},
            "Simulaciones Computacionales": {"paginas": 35, "temas": ["Matplotlib", "SimPy"]},
            "Integración con Herramientas Científicas": {"paginas": 40, "temas": ["Jupyter Notebooks", "SciPy"]},
        },
        "datasets": [
            {"nombre": "Dataset Científico 1", "tipo": "Tabular", "registros": 800},
            {"nombre": "Dataset Científico 2", "tipo": "Texto", "registros": 1200},
        ],
        "editorial": "Ediciones Científicas"}
    ],
    "ubicaciones": {
        "Avances en Inteligencia Artificial": "Sección G",
        "Criptografía Moderna": "Sección H",
        "Exploración Espacial": "Sección I"
    },
    
    "mayoristas": [
        {
            "nombre": "Distribuidora de Libros ABC",
            "productos": [
                {"titulo": "Avances en Inteligencia Artificial", "cantidad": 100},
                {"titulo": "Criptografía Moderna", "cantidad": 50},
                {"titulo": "Exploración Espacial", "cantidad": 75},
                {"titulo": "Historia de la Programación", "cantidad": 95},
                # Puedes agregar más productos según sea necesario
            ],
            "descuento": 0.15  # Porcentaje de descuento aplicado a los libros        
        },
        {
        "nombre": "Distribuidora del sur",
            "productos": [
                {"titulo": "Avances en Inteligencia Artificial", "cantidad": 150},
                {"titulo": "Criptografía Moderna", "cantidad": 30},
                {"titulo": "Exploración Espacial", "cantidad": 122},
                {"titulo": "Datos y Estadísticas en Ciencias de la Computación", "cantidad": 145},
                # Puedes agregar más productos según sea necesario
            ],
            "descuento": 0.15  # Porcentaje de descuento aplicado a los libros
        },
        {
        "nombre": "Distribuidora del parana",
            "productos": [
                {"titulo": "Ciberseguridad Avanzada", "cantidad": 32},
                {"titulo": "Machine Learning en la Práctica", "cantidad": 65},
                {"titulo": "Python en el Mundo de la Ciencia", "cantidad": 91},
                {"titulo": "Programación Creativa con Python", "cantidad": 65},
                # Puedes agregar más productos según sea necesario
            ],
            "descuento": 0.15  # Porcentaje de descuento aplicado a los libros
        }
    ],
    "editoriales": {
        "Ediciones Tecnológicas": {"fundador": "Juan Pérez", "anio_creacion": 2000},
        "Ediciones Criptografia": {"fundador": "Tomas Rodriguez", "anio_creacion": 2005},
        "Ediciones Computacionales": {"fundador": "Nestor Kirchner", "anio_creacion": 1995},
        "Ediciones Creativas": {"fundador": "Leonel Messi", "anio_creacion": 1995},
        "Ediciones Científicas": {"fundador": "Steven Gerrard", "anio_creacion": 1999},
        "Ediciones de Seguridad": {"fundador": "Angel Di Maria", "anio_creacion": 1992},
        "Ediciones Históricas": {"fundador": "Sergio Aguero", "anio_creacion": 1997},
        "Ediciones Prácticas": {"fundador": "Carlos Maslaton", "anio_creacion": 2007}
        # ... (resto de la información de editoriales)
    }
}

# Function to search and display information about books and their publishers by title
def search_editorials_by_title():
    # Iterate through each book in the complex library
    for book1 in biblioteca_compleja['libros']:
        # Print details of each book, including title, ID, author, and year of publication
        print("The name of the book is: " + book1['titulo'] +
              " and the Id is: " + str(book1['id']) +
              " and the autor is: " + book1['autor'] +
              " and the year of publication is: " + str(book1['anio_publicacion']))
        # Separate each book's information with a line of dashes
        print('--------------------------------------------------------------------------------------------------------------------------------------------------------------')
    
    # User input to choose a book by ID
    book_id = int(input("Choose a title by Id to see its publisher: "))
    
    # Iterate through each book in the complex library again
    for book in biblioteca_compleja["libros"]:
        # Check if the current book's ID matches the user-selected ID
        if book['id'] == book_id:
            # Iterate through each editorial in the library's editoriales dictionary
            for e_key, e_value in biblioteca_compleja["editoriales"].items():
                # Check if the current book's editorial matches an editorial key
                if book['editorial'] == e_key:
                    # Print the name of the publisher associated with the book's editorial
                    print("The name of the publisher is: " + e_key)


# Function to find the book with the best and worst average reviews
def book_with_best_and_worst_review():
    # Initialize variables to track the highest and lowest ratings
    highest_rating = 0
    lowest_rating = float('inf')
    
    # Initialize variables to store the titles of the best and worst reviewed books
    best_reviewed_book = ''
    worst_reviewed_book = ''

    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book in biblioteca_compleja['libros']:
        # Initialize variables to calculate the total score and count of reviews for each book
        total_score = 0
        count = 0
        
        # Iterate through each review in the 'reseñas' list of the current book
        for review in book['reseñas']:
            # Accumulate the total score from all reviews
            total_score += float(review['puntaje'])
            # Increment the count of reviews
            count += 1
        
        # Calculate the average score for the current book
        average = total_score / count if count > 0 else 0

        # Update the variables if the current book has a higher or lower average rating
        if average > highest_rating:
            highest_rating = average
            best_reviewed_book = book['titulo']

        if average < lowest_rating:
            lowest_rating = average
            worst_reviewed_book = book['titulo']

    # Print the titles and scores of the best and worst reviewed books
    print("The book with the best review is: " + best_reviewed_book + " with a score of " + str(highest_rating))
    print("The book with the worst review is: " + worst_reviewed_book + " with a score of " + str(lowest_rating))

# Function to find the book with the most pages in the library
def book_with_most_pages_of_library():
    # Initialize variables to store the title of the book with the most pages and the maximum number of pages
    book_with_most_pages = ''
    max_pages = 0

    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book in biblioteca_compleja['libros']:
        # Initialize variable to calculate the total number of pages for the current book
        total_pages = 0
        
        # Iterate through each content in the 'contenidos' dictionary of the current book
        for content in book['contenidos'].values():
            # Accumulate the total number of pages from all contents
            total_pages += content['paginas']

        # Update variables if the current book has more pages than the current maximum
        if total_pages > max_pages:
            max_pages = total_pages
            book_with_most_pages = book['titulo']

    # Print the title and total number of pages of the book with the most pages
    print("The book with the most pages is: " + book_with_most_pages + " with a total of " + str(max_pages) + " pages")


# Function to display the topics of selected books
def see_the_topics_of_books():
    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book in biblioteca_compleja['libros']:
        # Print details of each book, including title, ID, author, and year of publication
        print("The name of the book is: " + book['titulo'] + " and the Id is: " + str(book['id']) + " and the autor is: " + book['autor'] + " and the year of publication is: " + str(book['anio_publicacion']))
        print('-------------------------------------------------------------------------')

    # Prompt the user to choose the ID of a book to see its topics
    selected_book_id = input("Choose the id of a book to see the topics: ")
    
    # Initialize an empty list to store topics
    topics = []

    # Iterate through each book in the 'libros' list again
    for book in biblioteca_compleja['libros']:
        # Check if the ID of the current book matches the selected_book_id
        if str(book['id']) == selected_book_id:
            # Iterate through each content in the 'contenidos' dictionary of the selected book
            for content in book['contenidos'].values():
                # Add topics from each content to the 'topics' list
                topics += content['temas']

            # Print the topics of the selected book
            print("The topics of the book are: " + str(topics))



# Function to list details of books in the library
def list_of_books():
    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book in biblioteca_compleja['libros']:
        # Print details of each book, including title, ID, author, and year of publication
        print("The name of the book is: " + book['titulo'] + " and the Id is: " + str(book['id']) + " and the autor is: " + book['autor'] + " and the year of publication is: " + str(book['anio_publicacion']))
        print('-------------------------------------------------------------------------')



# Function to arrange book titles alphabetically
def books_arranged_alphabetically():
    # Initialize an empty list to store book titles
    sorted_books = []
    
    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book in biblioteca_compleja["libros"]:
        # Append the title of each book to the 'sorted_books' list
        sorted_books.append(book['titulo'])
        
        # Sort the 'sorted_books' list alphabetically
        sorted_books = sorted(sorted_books)
    
    # Print the sorted list of book titles
    print(sorted_books)


# Function to arrange books by publication year
def books_arranged_by_year():
    # Initialize an empty list to store tuples containing (year, title)
    books_sorted_by_year = []
    
    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book in biblioteca_compleja["libros"]:
        # Append a tuple (year, title) to the 'books_sorted_by_year' list
        books_sorted_by_year.append((book['anio_publicacion'], book['titulo']))
        
        # Sort the 'books_sorted_by_year' list based on the publication year
        books_sorted_by_year = sorted(books_sorted_by_year)
    
    # Print the sorted list of tuples containing (year, title)
    print(books_sorted_by_year)

# Function to display suppliers and stock information for a selected book
def suppliers_of_the_books():
    # Iterate through each book in the 'libros' list of the 'biblioteca_compleja'
    for book_info in biblioteca_compleja['libros']:
        print("The name of the book is: " + book_info['titulo'] + " and the Id is: " + str(book_info['id']))
        print('-------------------------------------------------------------------------')

    # Initialize variables
    stock = 0
    choose_book_id = input("Choose the id of the book to see the publisher: ")

    # Iterate through each book in the 'libros' list again
    for book in biblioteca_compleja['libros']:
        # Check if the chosen book ID matches the current book's ID
        if choose_book_id == str(book['id']):
            # Iterate through each distributor in the 'mayoristas' list
            for distributor in biblioteca_compleja["mayoristas"]:
                # Iterate through each product in the distributor's 'productos' list
                for product in distributor['productos']:
                    # Check if the title of the chosen book matches the current product's title
                    if book['titulo'] == product['titulo']:
                        # Accumulate the stock quantity
                        stock += product['cantidad']
                        # Print the distributor's name and the stock quantity for the book
                        print("The name of the distributor is: " + distributor['nombre'] + " and the stock is: " + str(product['cantidad']))

            # Print the total stock for the chosen book
            print("The total is: " + str(stock))


from unidecode import unidecode
def find_books_for_genres():
    genres = []
    for book in biblioteca_compleja["libros"]:
        if 'generos' in book:
            genres += book['generos']

    # Convert genres to their closest ASCII equivalents
    normalized_genres = [unidecode(genre.lower()) for genre in genres]

    print("The genres available are:", genres)

    choose_genre = input('Choose the genre: ').lower()

    # Convert the chosen genre to its closest ASCII equivalent
    normalized_chosen_genre = unidecode(choose_genre)

    found_books = []

    for book in biblioteca_compleja['libros']:
        if 'generos' in book:
            for genre in book['generos']:
                # Convert the genre to its closest ASCII equivalent
                normalized_genre = unidecode(genre.lower())
                
                # Check if the normalized chosen genre matches the normalized genre
                if normalized_chosen_genre in normalized_genre:
                    found_books.append(book['titulo'])

    if found_books:
        print("The books with this genre are:", ', '.join(found_books))
    else:
        print("No books found for the chosen genre.")

# Call the function to execute the code
find_books_for_genres()


def main_menu():
    while True:
        print("****************************************************************************")
        print("1. Search editorials by title   "+"      2. Book with best and worst review")
        print("3. Book with most pages of library    "+"4. See the topics of books")
        print("5. List of books    "+"                  6. Books arranged alphabetically")
        print("7. Books arranged by year    "+"         8. Suppliers of the books")
        print("9. Find books for genres"+"              0. Exit")
        print("----------------------------------------------------------------------------")
        

        choice = input("Enter your choice (0-9): ")

        if choice == '1':
            search_editorials_by_title()
        elif choice == '2':
            book_with_best_and_worst_review()
        elif choice == '3':
            book_with_most_pages_of_library()
        elif choice == '4':
            see_the_topics_of_books()
        elif choice == '5':
            list_of_books()
        elif choice == '6':
            books_arranged_alphabetically()
        elif choice == '7':
            books_arranged_by_year()
        elif choice == '8':
            suppliers_of_the_books()
        elif choice == '9':
            find_books_for_genres()
        elif choice == '0':
            print("Exiting the program. Goodbye!")
            break
        else:
            print("Invalid choice. Please enter a number between 0 and 9.")

if __name__ == "__main__":
    main_menu()


       






 
            


        